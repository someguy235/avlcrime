doctype 5
html(lang="en")
  head
    title= "Asheville Crime Map"
    meta(http-equiv="Content-Type", content="text/html; charset=iso-8859-1")

    link(rel="stylesheet" href="/avlcrime/resources/css/main.css")
    link(rel="stylesheet" href="/avlcrime/resources/vendor/leaflet/leaflet.css")
    link(rel="stylesheet" href="/avlcrime/resources/vendor/bootstrap/css/bootstrap.min.css")
  body
    div.container(ng-app="CrimeApp")
      div.row
        div.page-header
          h1 Crime Mapper
            small  Asheville, NC 
      div.row
        div.main.centered.col-md-3(ng-controller="FormController")
          form(ng-submit="")
            div.row-fluid#spinner(ng-hide="showToggles")
              img(src="/avlcrime/resources/img/spinner-small.gif")
            div.row-fluid.btn-group-vertical(data-toggle="buttons-checkbox" ng-show="showToggles")
              button.btn.btn-default(ng-repeat="offense in offenses | orderBy:'index'" ng-model="offense.selected" value="{{offense.name}}" type="checkbox" checkbox-toggle="") 
                div.keyCircle(style="background-color:{{offense.color}}")
                {{offense.name}} 
            div.row-fluid
              br
            div.row-fluid.btn-group(data-toggle="buttons-checkbox")
              button.btn.btn-default(ng-model="showPoints" type="checkbox" checkbox-toggle="") Points
              button.btn.btn-default(ng-model="showHeat" type="checkbox" checkbox-toggle="") Heat
            div.row-fluid
              br
            div.row-fluid.btn-group(data-toggle="buttons-radio")
              <!--button.btn.btn-default(ng-model="selectYear" value="2011" type="button" buttons-radio="") 2011-->
              button.btn.btn-default(ng-model="selectYear" value="2012" type="button" buttons-radio="") 2012
              button.btn.btn-default(ng-model="selectYear" value="2013" type="button" buttons-radio="") 2013
              button.btn.btn-default(ng-model="selectYear" value="2014" type="button" buttons-radio="") 2014
              button.btn.btn-default.active(ng-model="selectYear" value="2015" type="button" buttons-radio="") 2015
              br
              div.centered
                button.btn.btn-default(ng-model="selectYear" value="month" type="button" buttons-radio="") past month
            div.row-fluid
              br
              | Crimes Mapped: {{crimesCount}}
        div.main.centered.col-md-9(ng-controller="DisplayController")
          div#map
            div#map-spinner(ng-show="showSpinner")
              img(src="/avlcrime/resources/img/spinner-small.gif")
      div.row
        br
        div.col-md-12
          div.well.well-sm
           h4 The data and information this application provides is retrieved from a 
            a(href="http://opendataserver.ashevillenc.gov/geoserver/web") web service 
            | provided by the City of Asheville, to be used as a guide for crime reported to the Asheville Police Department.
           ul
            li 
              b Homicide: 
              The willful (nonnegligent) killing of one human being by another.
            li 
              b Rape: 
              The carnal knowledge of a female forcibly and against her will.
            li 
              b Robbery: 
              The taking or attempting to take anything of value by force or threat.
            li 
              b Aggravated Assault: 
              The unlawful attack by one person upon another for the purpose of inflicting severe bodily harm.
            li 
              b Burglary: 
              The unlawful entry of a structure to commit a felony or theft.
            li 
              b Larceny: 
              The unlawful taking or stealing of property without the use of force, violence, or fraud.
            li 
              b Larceny of Motor Vehicle: 
              The unlawful taking or stealing of a motor vehicle, including attempts.
            li 
              b Vandalism: 
              The malicious destruction, injury, disfigurement or defacement of real or personal property.
            li 
              b Drugs: 
              State and/or local offenses relating to the unlawful possession, sale, use, growing, manufacturing, and making of narcotic drugs including opium or cocaine and their derivatives, marijuana, synthetic narcotics, and dangerous nonnarcotic drugs such as barbiturates. 
    a(href="https://github.com/someguy235/avlcrime") 
      img(style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png")
    script(type="text/javascript" src="/avlcrime/resources/js/jquery-1.7.1.min.js")
    script(type="text/javascript" src="/avlcrime/resources/vendor/bootstrap/js/bootstrap.min.js")
    script(type="text/javascript" src="/avlcrime/resources/vendor/leaflet/leaflet.js")
    script(type="text/javascript" src="/avlcrime/resources/js/heatmap.js")
    script(type="text/javascript" src="/avlcrime/resources/js/heatmap-leaflet.js")
    script(type="text/javascript" src="/avlcrime/resources/js/angular.min.js")
    script(type="text/javascript" src="/avlcrime/resources/js/QuadTree.js")
    script(type="text/javascript" src="/avlcrime/resources/js/controllers.js")
    script.
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-45059432-1', 'ethanshepherd.com');
      ga('send', 'pageview');


